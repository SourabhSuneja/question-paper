<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Get a random DS worksheet for class 8 instantly with our simple generator for varied practice.">
    <title>Class 8 Data Science Worksheet</title>
    <script>
        function getRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function generateRandomLink() {
            // Randomize question counts
            let fillUp = getRandomInt(1, 3);
            let trueFalse = getRandomInt(1, 2);
            let mcq = getRandomInt(1, 3);
            let shortAns = getRandomInt(3, 6);
            let longAns = 0;

            // Ensure total number of questions is exactly 10
            let totalQuestions = fillUp + trueFalse + mcq + shortAns;

            if (totalQuestions > 10) {
                let excess = totalQuestions - 10;
                // Reduce excess from shortAns
                shortAns = Math.max(shortAns - excess, 0);
            } 

            // Recalculate total questions after adjustments
            totalQuestions = fillUp + trueFalse + mcq + shortAns;

            // Check for shortfall and adjust the "Long Answer Type" in qTypes object to compensate
            if (totalQuestions < 10) {
                let shortfall = 10 - totalQuestions;
                longAns += shortfall; // Adjust the shortfall
            }

            // Randomize difficulty level
            let difficultyLevels = ["easy", "medium", "hard"];
            let difficulty = difficultyLevels[getRandomInt(0, 2)];
            difficulty = "random";

            // Base URL
            let baseURL = "https://sourabhsuneja.github.io/question-paper/";

            // Encoded JSON for questions paper model (qpm parameter)
            let qpm = encodeURIComponent(JSON.stringify({
                "kips-8-ch-1": { "Fill up": fillUp, "True/False": trueFalse, "MCQ": mcq, "Short Answer Type": shortAns, "Long Answer Type": longAns, "Match items": 0, "image": false, "audio": false, "video": false },
                "kips-8-ch-2": { "Fill up": fillUp, "True/False": trueFalse, "MCQ": mcq, "Short Answer Type": shortAns, "Long Answer Type": longAns, "Match items": 0, "image": false, "audio": false, "video": false },
                "between-8-ch-1": { "Fill up": fillUp, "True/False": trueFalse, "MCQ": mcq, "Short Answer Type": shortAns, "Long Answer Type": longAns, "Match items": 0, "image": false, "audio": false, "video": false },
                "between-8-ch-2": { "Fill up": fillUp, "True/False": trueFalse, "MCQ": mcq, "Short Answer Type": shortAns, "Long Answer Type": longAns, "Match items": 0, "image": false, "audio": false, "video": false }
            }));

            // Exam details object
            let ed = {
                schoolName: "Jamna Vidyapeeth",
                examName: "Practice Worksheet",
                subject: "Data Science",
                duration: 60,
                grade: "VIII"
            };

            // Question container object
            let qc = {
                headings: [""],
                qTypes: [{
                    "Fill up": fillUp,
                    "True/False": trueFalse,
                    "MCQ": mcq,
                    "Short Answer Type": shortAns,
                    "Long Answer Type": longAns
                }],
                weightPerQ: [{}],
                mustInclude: [{}],
                settings: {
                    provideAnsOrSpace: "space",
                    randomiseSelection: true,
                    strictChapterWiseDistribution: false,
                    editable: true,
                    showAIBtns: false,
                    hideWeightage: true,
                    showStudentDetails: true,
                    border: false,
                    shuffleMCQOptions: false,
                    useDotPatternInBlanks: true,
                    showHelpBoxInFillUp: false,
                    mergeMatchItems: true,
                    convertQForm: {
                        MCQ: { toFillUp: 0, toTF: 0, toVSA: 0 },
                        flipTF: false
                    },
                    spaceForAns: {
                        "Very Short Answer Type": 1,
                        "Short Answer Type": 3,
                        "Long Answer Type": 6,
                        "Very Long Answer Type": 8,
                        "Diagram/Picture/Map Based": 6
                    },
                    qTypesAllowedInImageQ: [
                        "Short Answer Type", "Long Answer Type", 
                        "Very Long Answer Type", "Diagram/Picture/Map Based"
                    ]
                }
            };

            // Files and chapters
            let files = ["kips-8-ch-1", "kips-8-ch-2", "between-8-ch-1", "between-8-ch-2"];

            // URL encoding
            let encodedEd = encodeURIComponent(JSON.stringify(ed));
            let encodedQc = encodeURIComponent(JSON.stringify(qc));
            let encodedFiles = encodeURIComponent(files.join("+"));

            // Final URL construction
            let finalURL = `${baseURL}?ed=${encodedEd}&qpm=${qpm}&qc=${encodedQc}&files=${encodedFiles}&diff=${difficulty}`;

            // Redirect to the generated link
            window.location.href = finalURL;
        }
    </script>
</head>
<body onload="generateRandomLink()">
    <h1>Generating Your Randomized Worksheet with AI...</h1>
</body>
</html>